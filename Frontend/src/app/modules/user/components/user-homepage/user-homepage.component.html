<!-- User Header -->
<app-userheader></app-userheader>

<!-- Movie Search Bar and Button -->
<div class="container mt-4 w-100">
  <div class="row1 justify-content-center">
    <div class="column1">
      <div class="input-group">
        <input type="text" [(ngModel)]="searchQuery" placeholder="Search Movies..." class="form-control" (ngModelChange)="searchMovie()" />
        <button class="btn btn-primary">Search</button>
      </div>
    </div>
  </div>
</div>


<div class="row ">
  <mat-card style="width: 470px; padding: 0px; margin: 0px;" *ngFor="let movie of filteredMovies | paginate: { itemsPerPage: 8, currentPage: p };" class="example-card" appearance="outlined">

 <img mat-card-image [src]="movie.moviePicture" alt="Photo of a Shiba Inu">
 <mat-card-content style="margin-bottom: 7px;" >
  <div class="container d-flex flex-column mb-4">
  <div >
   <h2 mat-card-title>{{movie.movieName | uppercase}}</h2>
  </div>
  <div>
   <h3 mat-card-subtitle>Synopsis</h3>
  </div>
  <br>
  <div>
   <p class="text-clamp">    
  {{movie.synopsis}}
   </p></div>
  </div>
  
 </mat-card-content>
 <br>

 <mat-card-content class="container d-flex flex-column gap-2">
   <p>
     Release Date: {{movie.releaseDate | date:'yyyy-MM-dd'}}
   </p>
   <p>
     Genre: {{movie.genre}}
   </p>
    <p>
     Cast: {{movie.cast}}
    
   </p>
 </mat-card-content>
 
 <mat-card-content>
  <div class="buttoncontainer d-flex gap-2">
    <div class="btns">
     <button mat-button [routerLink]="['/user-dashboard/user-review', movie.movieId]">Add Review</button>
  
    </div>
    <div class="btns">
     <button mat-button [routerLink]="['/user-dashboard/user-movieinfo', movie.movieId]">Movie Details</button>
    </div>
  
    <div class="btns">
     <button mat-button (click)="AddWatchlist(movie.movieId)"> Watchlist</button>
    </div>
   
   </div>
 </mat-card-content>
 
</mat-card>
</div>


<div>
  <pagination-controls (pageChange)="p = $event"></pagination-controls>

</div>



<!-- 
<div class="container mt-4">
  <div class="row g-2 g-md-3 g-lg-4">
    <mat-card class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4" *ngFor="let movie of movies;" appearance="outlined">
      <img mat-card-image [src]="movie.moviePicture" alt="Movie Image">
      <mat-card-content>
        <h2 mat-card-title>{{movie.movieName}}</h2>
        <h3 mat-card-subtitle>Synopsis</h3>
        <p class="text-clamp">
          {{movie.synopsis}}
        </p>
      </mat-card-content>
      <mat-card-content>
        <p>Release Date: {{movie.releaseDate | date:'yyyy-MM-dd'}}</p>
        <p>Genre: {{movie.genre}}</p>
        <p>Cast: {{movie.cast}}</p>
      </mat-card-content>
      <mat-card-actions>
       
      </mat-card-actions>
    </mat-card>
  </div>
</div> -->

<router-outlet></router-outlet>
