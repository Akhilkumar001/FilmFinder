<!-- User Header -->
<app-userheader></app-userheader>

<!-- Movie Search Bar and Button -->
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="input-group">
        <input type="text" [(ngModel)]="searchQuery" placeholder="Search Movies..." class="form-control" />
        <button (click)="searchMovie()" class="btn btn-primary">Search</button>
      </div>
    </div>
  </div>
</div>

<div class="container mt-4">
  <div class="row g-2 g-md-3 g-lg-4">
    <mat-card class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4" *ngFor="let movie of movies;" appearance="outlined">
      <img mat-card-image [src]="movie.moviePicture" alt="Movie Image">
      <mat-card-content>
        <h2 mat-card-title>{{movie.movieName}}</h2>
        <h3 mat-card-subtitle>Synopsis</h3>
        <p class="text-clamp">
          {{movie.synopsis}}
        </p>
      </mat-card-content>
      <mat-card-content>
        <p>Release Date: {{movie.releaseDate | date:'yyyy-MM-dd'}}</p>
        <p>Genre: {{movie.genre}}</p>
        <p>Cast: {{movie.cast}}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button [routerLink]="['/user-dashboard/user-review', movie.movieId]">Add Review</button>
        <button mat-button [routerLink]="['/user-dashboard/user-movieinfo', movie.movieId]">Movie Details</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<router-outlet></router-outlet>
